# Компилятор Go ☀️

Для того чтобы начать писать код на Go необходио разобраться с его компилятором и понять, как запускать код

**Как скомпилировать код на Go?**

Хорошая новость: код на Go можно скомпелировать из командной строки
Более того, Go не имеет значения имя исходного файла с текстом программы, если именем пакета является main и в нем есть
только одна функция main. Дело в том, что с функции main начинается выполнение программы. Из-за этого в файлах одного 
проекта не может быть несколько функций main()

Первой скомпелированной программой будет sourceFile.go

Важный момент! Сообщество Go предпочитает называть файл через смену регистра, а не через. То есть 
правильно так sourceFile.go, а не source_file.go

Чтобы скомпелировать sourceFile.go и создать статистически скомпонованный исполняемый файл, необходимо выполнить
следующую команду:

```
go build sourceFile.go
```

В результате будет создан новый исполняемый файл с имене sourceFile, который теперь нужно выполнить:

```
$ file sourceFile
sourceFile: Mach-O 64-bit executable x86_64
$ ls -l sourceFile
-rwxrwxr-x 1 nikolay nikolay 1758433 Dec 21 22:14 sourceFile
$ ./sourceFile
This my first Go program!
```

Основная причина, по которой sourceFile такой большой, заключается в том, что он статически скомпонован, другими
словами, для его работы не требуется внешних библиотек.

**Выполнение Go-кода**

Есть более простой способ запустить Go-код. при котором не создается постоянных исполняемых файлов - генерируется лишь
несколько временных файлов, которые автоматически удаляются после выполнения

Для запуска используем следующую команду

```
$ go run sourceFile.go
This my first Go program!
```

Чаще всего мы будем использовать go run, так как он прост в использовании и не оставляет за собой файлов

**Два правила Go!**

В Go приняты строгие правила кодирования. Они помогут избежать ошибок и багов в коде, а также позволят облегчить чтение
кода для сообщества Go. Основная цель компилятора Go - компилировать код и повышать его качество!

**Правило 1. Не нужен - не подключай**

В Go приняты строгие правила использования пакетов. Вы не можете просто подключить пакет и не использовать его. 
Go начнет ругаться!

К примеру, если мы импортируем библиотеку os в свой файл sourceFile.go и не будем ее использовать, нам выведется ошибка:
``` 
$ go run sourceFile.go
./sourceFile.go:5:2: imported and not used: "os"
```

С одной стороны может показаться это очень плохой фичей, но как по мне это очень удобно и позволяет не оставлять в коде
мусор

Но есть одно но... Правила нужны для того, чтобы их нарушать.

Если мы хотим оставить данную библиотеку в коде, можно воспользоваться символом _ при импорте

``` 
package main

import (
    "fmt"
    _ "os"
)

func main() {
    fmt.Println("Hello!")
}
```

Если мы запустим данный код, то увидим, что ошибок нет... магия!

``` 
$ go run sourceFile.go
Hello!
```

**Правило 2. Размещения фигурных скобок всего одно**

Рассмотрим код файла curly.go

``` 
package main

import (
    "fmt"
)

func main () 
{
    fmt.Println("Go!")
}
```

Если мы его запустим, то увидим ошибки

``` 
$ go run curly.go
# command-line-arguments
./curly.go:7:6: missing function body for "main"
./curly.go:8:1: syntax error: unexpected semicolon or newline before {
```

Причина такая: во многих контекстах Go требует использовать точки с запятой как признак завершения оператора и поэтому
компилятор автоматически вставляет точки с запятой там, где считает их необходимыми. Поэтому при размещении открывающей
фигурной скобки ({) в отдельной строке компилятора Go поставит точку с запятой в конце предыдушей строки (func main()) -
это и есть причина сообщения об ошибки

Поэтому при использовании фигурный скобок обязательно придерживаться паттерна: 

``` 
func main() { 
    ...
}
```

**Комментарии**

Очень важной частью языка являются комментарии, их в Go можно писать двумя способами

***1 Вариант***. Однострочный - то есть комментарий будет на одну строку
``` 
// Комментарий
```

***2 Вариант***. Многострочный - то есть комментарий может быть расписан на несколько строк
``` 
/* 
    Мой комментарий
    И тут мой комментарий
*/
```

Чередовать их стоит в зависимости от того, на сколько длинный комментарий вы хотите написать

**Итог**

На этом, рассказ про компилятор закончен, можно попробовать написать свой первый код на Go.
